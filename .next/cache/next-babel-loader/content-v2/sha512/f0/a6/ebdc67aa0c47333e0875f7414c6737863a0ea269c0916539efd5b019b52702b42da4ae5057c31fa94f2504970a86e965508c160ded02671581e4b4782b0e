{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/eimanalwahhabi/Desktop/RecycleChain/pages/auctions/startAuction.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component, useState } from 'react';\nimport { Form, Button, Input, Message } from 'semantic-ui-react';\nimport DatePicker from \"react-datepicker\";\nimport setHours from \"date-fns/setHours\";\nimport setMinutes from \"date-fns/setMinutes\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport web3 from '../../ethereum/web3';\nimport plasticBaleContract from '../../ethereum/plasticBale';\n\nvar startAuction = /*#__PURE__*/function (_Component) {\n  _inherits(startAuction, _Component);\n\n  var _super = _createSuper(startAuction);\n\n  function startAuction(props) {\n    var _this;\n\n    _classCallCheck(this, startAuction);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      date: '',\n      startingPrice: '',\n      errorMessage: '',\n      hasNoError: false\n    };\n    return _this;\n  }\n\n  _createClass(startAuction, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this,\n          _s = $RefreshSig$();\n\n      return __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 13\n        }\n      }, __jsx(\"link\", {\n        rel: \"stylesheet\",\n        href: \"//cdn.jsdelivr.net/npm/semantic-ui@2.4.1/dist/semantic.min.css\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 17\n        }\n      }), __jsx(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }\n      }, \"Set Bale's Auction Parameters: \"), __jsx(Form, {\n        onSubmit: this.onStartAuction,\n        error: !!this.state.errorMessage,\n        success: this.state.hasNoError,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }\n      }, __jsx(Form.Field, {\n        width: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 29\n        }\n      }, __jsx(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 33\n        }\n      }, \"Auction Date and Time:\"), _s(function () {\n        _s();\n\n        var _useState = useState(setHours(setMinutes(new Date(), 0), 9)),\n            startDate = _useState[0],\n            setStartDate = _useState[1];\n\n        var filterPassedTime = function filterPassedTime(time) {\n          var currentDate = new Date();\n          var selectedDate = new Date(time);\n          return currentDate.getTime() < selectedDate.getTime();\n        };\n\n        return __jsx(DatePicker, {\n          selected: startDate,\n          onChange: function onChange(date) {\n            return setStartDate(date);\n          },\n          showTimeSelect: true,\n          filterTime: filterPassedTime,\n          dateFormat: \"MMMM d, yyyy h:mm aa\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 43\n          }\n        });\n      }, \"wSz/b3TbNYOANUPZ5oNTFm6J7LE=\"), __jsx(Input, {\n        value: this.state.manufacturerName,\n        onChange: function onChange(event) {\n          return _this2.setState({\n            manufacturerName: event.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 33\n        }\n      })), __jsx(Form.Field, {\n        width: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 29\n        }\n      }, __jsx(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 33\n        }\n      }, \"Manufacturer Address\"), __jsx(Input, {\n        value: this.state.manufacturerAddr,\n        icon: \"ethereum\",\n        onChange: function onChange(event) {\n          return _this2.setState({\n            manufacturerAddr: event.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 33\n        }\n      })), __jsx(Form.Field, {\n        width: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 29\n        }\n      }, __jsx(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 33\n        }\n      }, \"Manufacturer Location\"), __jsx(Input, {\n        value: this.state.manufacturerLocation,\n        onChange: function onChange(event) {\n          return _this2.setState({\n            manufacturerLocation: event.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 33\n        }\n      })), __jsx(Message, {\n        error: true,\n        header: \"Error!\",\n        content: this.state.errorMessage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 29\n        }\n      }), __jsx(Message, {\n        success: true,\n        header: \"Success!\",\n        content: \"Auction is Successfully Scheduled !\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 29\n        }\n      }), __jsx(Button, {\n        loading: this.state.loading,\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 29\n        }\n      }, \"Schedule Auction\")));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(props) {\n        var address;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                //fetches address of the bottle from the URL\n                address = props.query.address;\n                return _context.abrupt(\"return\", {\n                  address: address\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return startAuction;\n}(Component);\n\nexport default startAuction;","map":{"version":3,"sources":["/Users/eimanalwahhabi/Desktop/RecycleChain/pages/auctions/startAuction.js"],"names":["React","Component","useState","Form","Button","Input","Message","DatePicker","setHours","setMinutes","web3","plasticBaleContract","startAuction","props","state","date","startingPrice","errorMessage","hasNoError","onStartAuction","Date","startDate","setStartDate","filterPassedTime","time","currentDate","selectedDate","getTime","manufacturerName","event","setState","target","value","manufacturerAddr","manufacturerLocation","loading","address","query"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react';\nimport { Form, Button, Input, Message } from 'semantic-ui-react';\nimport DatePicker from \"react-datepicker\";\nimport setHours from \"date-fns/setHours\";\nimport setMinutes from \"date-fns/setMinutes\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport web3 from '../../ethereum/web3';\nimport plasticBaleContract from '../../ethereum/plasticBale'; \n\nclass startAuction extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            date:'',\n            startingPrice:'',\n            errorMessage: '',\n            hasNoError: false\n           \n        };\n    }\n\n    static async getInitialProps(props) {\n\n        //fetches address of the bottle from the URL\n        const { address } = props.query;\n\n        return { address };\n    }\n\n    \n\n  \n    render() {\n\n        return (\n            <div>\n                <link rel=\"stylesheet\"\n                    href=\"//cdn.jsdelivr.net/npm/semantic-ui@2.4.1/dist/semantic.min.css\"\n                />\n\n                <h1>Set Bale's Auction Parameters: </h1>\n\n                <Form onSubmit={this.onStartAuction} error={!!this.state.errorMessage} success={this.state.hasNoError}>\n                            <Form.Field width={6}>\n                                <label>Auction Date and Time:</label>\n                                {\n                                    () => {\n                                        const [startDate, setStartDate] = useState(\n                                          setHours(setMinutes(new Date(), 0), 9)\n                                        );\n                                        const filterPassedTime = time => {\n                                          const currentDate = new Date();\n                                          const selectedDate = new Date(time);\n                                      \n                                          return currentDate.getTime() < selectedDate.getTime();\n                                        }\n                                        return (\n                                          <DatePicker\n                                            selected={startDate}\n                                            onChange={date => setStartDate(date)}\n                                            showTimeSelect\n                                            filterTime={filterPassedTime}\n                                            dateFormat=\"MMMM d, yyyy h:mm aa\"\n                                          />\n                                        );\n                                      }\n                                }\n                                <Input value={this.state.manufacturerName}\n                                    onChange={event => this.setState({ manufacturerName: event.target.value })} />\n                            </Form.Field>\n                            <Form.Field width={6}>\n                                <label>Manufacturer Address</label>\n                                <Input value={this.state.manufacturerAddr}\n                                    icon=\"ethereum\"\n                                    onChange={event => this.setState({ manufacturerAddr: event.target.value })} />\n                            </Form.Field>\n                            <Form.Field width={6}>\n                                <label>Manufacturer Location</label>\n                                <Input value={this.state.manufacturerLocation}\n                                    onChange={event => this.setState({ manufacturerLocation: event.target.value })} />\n                            </Form.Field>\n\n                            <Message error header=\"Error!\" content={this.state.errorMessage} />\n\n\n                            <Message success header=\"Success!\" content=\"Auction is Successfully Scheduled !\" />\n\n\n                            <Button loading={this.state.loading} type='submit'>Schedule Auction</Button>\n                        </Form>\n\n\n\n\n            </div>\n        );\n    }\n\n}\n\nexport default startAuction; "]},"metadata":{},"sourceType":"module"}